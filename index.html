<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Budget Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    :root {
        --card-bg: #ffffff;
        --primary: #0077ff;
        --income: #28a745;
        --expense: #e63946;
        --shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    *{box-sizing:border-box;}
    body{
        font-family: system-ui, sans-serif;
        margin:0;
        padding:2rem;
        background:#f5f7fa;
    }
    h1{margin-top:0;}
    form{
        display:flex;
        gap:0.5rem;
        flex-wrap:wrap;
        margin-bottom:1rem;
    }
    input, select{
        padding:0.5rem 0.75rem;
        font-size:1rem;
        border:1px solid #ccc;
        border-radius:4px;
    }
    input[type=text]{flex:2 1 200px;}
    input[type=number]{flex:1 1 120px;}
    select{flex:1 1 120px;}
    button{
        background:var(--primary);
        color:#fff;
        border:none;
        padding:0.6rem 1rem;
        border-radius:4px;
        cursor:pointer;
        font-size:1rem;
    }
    #summary{
        display:flex;
        gap:1rem;
        margin-bottom:1rem;
        flex-wrap:wrap;
    }
    .sum-card{
        background:var(--card-bg);
        padding:1rem 1.5rem;
        border-radius:8px;
        box-shadow:var(--shadow);
        min-width:180px;
    }
    .income{border-left:6px solid var(--income);}    
    .expense{border-left:6px solid var(--expense);}    
    .balance{border-left:6px solid var(--primary);}    
    #entries{
        list-style:none;
        padding:0;
        margin:0;
    }
    .entry{
        background:var(--card-bg);
        padding:0.75rem 1rem;
        border-radius:6px;
        box-shadow:var(--shadow);
        display:flex;
        align-items:center;
        justify-content:space-between;
        margin-bottom:0.5rem;
    }
    .entry.income{border-left:4px solid var(--income);}    
    .entry.expense{border-left:4px solid var(--expense);}    
    .entry-desc{
        flex:2;
        overflow:hidden;
        text-overflow:ellipsis;
        white-space:nowrap;
    }
    .entry-amt{
        flex:0 0 100px;
        text-align:right;
        font-weight:600;
    }
    .entry button{
        background:transparent;
        border:none;
        color:#999;
        font-size:1.1rem;
        cursor:pointer;
    }
    .entry button:hover{color:#000;}
</style>
</head>
<body>
<h1>ðŸ’° Budget Tracker</h1>
<p>Log your income and expenses below. All data is saved in your browser so it will still be here when you come back.</p>

<form id="entryForm">
    <input type="text" id="descInput" placeholder="Description" required>
    <input type="number" id="amountInput" placeholder="Amount" step="0.01" required>
    <select id="typeInput">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
    </select>
    <button type="submit">Add</button>
</form>

<div id="summary">
    <div class="sum-card income">Income: <span id="totalIncome">$0.00</span></div>
    <div class="sum-card expense">Expenses: <span id="totalExpense">$0.00</span></div>
    <div class="sum-card balance">Balance: <span id="balance">$0.00</span></div>
</div>

<ul id="entries"></ul>

<script>
const form = document.getElementById('entryForm');
const descInput = document.getElementById('descInput');
const amountInput = document.getElementById('amountInput');
const typeInput = document.getElementById('typeInput');
const entriesEl = document.getElementById('entries');
const totalIncomeEl = document.getElementById('totalIncome');
const totalExpenseEl = document.getElementById('totalExpense');
const balanceEl = document.getElementById('balance');

let entries = JSON.parse(localStorage.getItem('budget-entries') || '[]');

function save(){
    localStorage.setItem('budget-entries', JSON.stringify(entries));
}

function currency(n){
    return '$' + n.toFixed(2);
}

function renderSummary(){
    const income = entries.filter(e=>e.type==='income').reduce((s,e)=>s+e.amount,0);
    const expense = entries.filter(e=>e.type==='expense').reduce((s,e)=>s+e.amount,0);
    const balance = income - expense;
    totalIncomeEl.textContent = currency(income);
    totalExpenseEl.textContent = currency(expense);
    balanceEl.textContent = currency(balance);
}

function renderEntries(){
    entriesEl.innerHTML = '';
    entries.forEach(entry=>{
        const li = document.createElement('li');
        li.className = `entry ${entry.type}`;
        li.innerHTML = `
            <span class="entry-desc">${entry.desc}</span>
            <span class="entry-amt">${entry.type==='expense' ? '-' : '+'} ${currency(entry.amount)}</span>
            <button title="Delete" aria-label="Delete">&times;</button>
        `;
        li.querySelector('button').addEventListener('click',()=>{
            entries = entries.filter(e=>e.id!==entry.id);
            save();
            renderEntries();
            renderSummary();
        });
        entriesEl.appendChild(li);
    });
}

form.addEventListener('submit', e=>{
    e.preventDefault();
    const desc = descInput.value.trim();
    const amount = parseFloat(amountInput.value);
    if(!desc || isNaN(amount) || amount<=0) return;
    const type = typeInput.value;
    entries.push({id: Date.now(), desc, amount, type});
    save();
    renderEntries();
    renderSummary();
    form.reset();
    descInput.focus();
});

// Initial render
renderEntries();
renderSummary();
</script>
</body>
</html>
